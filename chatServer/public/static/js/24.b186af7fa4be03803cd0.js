webpackJsonp([24],{"iN6/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("gyMJ"),i={data:function(){return{huntKey:"",friendList:[],loadingSearch:!1,IMG_URL:"",searchOptions:[{value:"2",label:"昵称"},{value:"1",label:"Vchat号"}],type:"2"}},components:{vApheader:n("XOnc").default},watch:{huntKey:function(){this.huntFriends()}},methods:{goFriendDetail:function(e){this.$router.push({name:"friendDetail",params:{id:e}})},huntFriends:function(e){var t=this;if(!this.loadingSearch){if(!this.huntKey){if("click"===e)return;return this.loadingSearch=!0,void setTimeout(function(e){t.friendList=[],t.loadingSearch=!1},800)}if("1"===this.type&&this.huntKey.length<=3)return this.loadingSearch=!0,void setTimeout(function(e){t.friendList=[],t.loadingSearch=!1},800);this.loadingSearch=!0;var n={key:this.huntKey,offset:1,limit:8,type:this.type};a.a.huntFriends(n).then(function(e){0===e.code&&(t.friendList=e.data),t.loadingSearch=!1})}}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vchat-searchFriend"},[n("v-apheader",{attrs:{title:"添加好友",back:"/main/personalMain/friendly/own"}}),e._v(" "),n("div",{staticClass:"vchat-search friend-search"},[n("el-select",{attrs:{placeholder:"请选择搜索方式"},on:{change:e.huntFriends},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.searchOptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),n("el-input",{attrs:{placeholder:"搜索内容",clearable:""},model:{value:e.huntKey,callback:function(t){e.huntKey=t},expression:"huntKey"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"append"},on:{click:function(t){return e.huntFriends("click")}},slot:"append"})])],1),e._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingSearch,expression:"loadingSearch"}],staticClass:"vchat-linkman-container friend-container"},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.friendList.length,expression:"friendList.length"}],staticClass:"vchat-linkman-list"},e._l(e.friendList,function(t){return n("li",{key:t._id,on:{click:function(n){return e.goFriendDetail(t._id)}}},[n("a",{attrs:{href:"javascript:;"}},[n("img",{attrs:{src:e.IMG_URL+t.photo,alt:""}})]),e._v(" "),n("div",[n("p",[n("span",{staticClass:"vchat-line1",attrs:{title:t.nickname}},[e._v(e._s(t.nickname))])]),e._v(" "),n("p",[n("span",{staticClass:"vchat-line1",attrs:{title:t.signature}},[e._v(e._s(t.signature))])])])])}),0),e._v(" "),n("v-nodata",{directives:[{name:"show",rawName:"v-show",value:!e.friendList.length&&!e.loadingSearch,expression:"!friendList.length && !loadingSearch"}]},[n("p",{staticClass:"vchat-no-have"},[e._v("\n                没有搜索到想要的!\n            ")])])],1)],1)},staticRenderFns:[]};var r=n("VU/8")(i,s,!1,function(e){n("zXbe")},"data-v-404a18dc",null);t.default=r.exports},zXbe:function(e,t){}});