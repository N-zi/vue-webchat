webpackJsonp([3],{BO1k:function(t,e,n){t.exports={default:n("fxRn"),__esModule:!0}},fxRn:function(t,e,n){n("+tPU"),n("zQR9"),t.exports=n("g8Ux")},g8Ux:function(t,e,n){var r=n("77Pl"),i=n("3fs2");t.exports=n("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},lZBv:function(t,e){},p3rT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("BO1k"),i=n.n(r),a=n("woOf"),o=n.n(a),c=function(){var t=o.a||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e=null,n=0,r=document.getElementById("score"),a=document.getElementById("bestScore"),c=document.getElementById("add"),s=document.getElementById("end"),l=4,u=1,d=0;function v(){n=localStorage.getItem("bestScore")||0,a.innerHTML=n}function f(t,e){var n=function(t,e){var n=t.filter(function(t){return t}).map(function(t){return t.id});return e.filter(function(t){return t&&-1===n.indexOf(t.id)})}(t,e),r=function(t,e){var n=t.filter(function(t){return t}).map(function(t){return t.id});return e.filter(function(t){return t&&-1!==n.indexOf(t.id)})}(t,e);!function(t){for(var e=t,n=Array.isArray(e),r=0,e=n?e:i()(e);;){var a;if(n){if(r>=e.length)break;a=e[r++]}else{if((r=e.next()).done)break;a=r.value}for(var o=a,c=function(){if(l){if(u>=s.length)return"break";d=s[u++]}else{if((u=s.next()).done)return"break";d=u.value}var t=d,e=document.getElementById(t);m(o,e),e.classList.add("tile--shrink"),setTimeout(function(){e.remove()},100)},s=o.mergedIds,l=Array.isArray(s),u=0,s=l?s:i()(s);;){var d,v=c();if("break"===v)break}}}(function(t){return t.filter(function(t){return t&&t.mergedIds})}(e)),h(n,!0),h(r)}function m(t,e){var n=t.index%l,r=Math.floor(t.index/l);e.style.top=100*r+"px",e.style.left=100*n+"px"}function h(t,e){for(var n=document.getElementById("tile-container"),r=0;r<t.length;r++){var i=t[r];if(i)if(e)!function(){var t=document.createElement("div");m(i,t),t.classList.add("tile","tile--"+i.value),t.id=i.id,setTimeout(function(){t.classList.add("tile--pop")},i.mergedIds?1:150),t.innerHTML="<p>"+i.value+"</p>",n.appendChild(t)}();else{var a=document.getElementById(i.id);m(i,a)}}}function p(){if(0===e.filter(function(t){return null===t}).length)return!e.find(function(t,n){var r=!(!e[n+1]||(n+1)%4==0)&&t.value===e[n+1].value,i=!!e[n+4]&&t.value===e[n+4].value;return!(!r&&!i)})}function _(){var t=e.map(function(t,e){return e}).filter(function(t){return null===e[t]});if(0!==t.length){var n=t[Math.floor(Math.random()*t.length)],r={id:u++,index:n,value:100*Math.random()<=90?2:4};e.splice(n,1,r)}}function g(t,e){return e*l+t}function y(t){for(var e=Array(l*l).fill(0),n=0;n<l;n++)for(var r=0;r<l;r++){var i=g(r,n),a=g(l-r-1,n);e[i]=t[a]}return e}function b(t){for(var e=Array(l*l).fill(0),n=0;n<l;n++)for(var r=0;r<l;r++){var i=g(r,n),a=g(l-1-n,r);e[i]=t[a]}return e}function x(t){for(var e=Array(l*l).fill(0),n=0;n<l;n++)for(var r=0;r<l;r++){var i=g(r,n),a=g(n,l-1-r);e[i]=t[a]}return e}function k(t){var e=y(t);return y(e=L(e))}function L(t){for(var e=[],a=0,o=0;o<l;o++){var s=4*o,f=l+4*o,m=t.slice(s,f).filter(function(t){return t}),h=m,p=Array.isArray(h),_=0;for(h=p?h:i()(h);;){var g;if(p){if(_>=h.length)break;g=h[_++]}else{if((_=h.next()).done)break;g=_.value}delete g.mergedIds}for(var y=0;y<m.length-1;y++)if(m[y].value===m[y+1].value){var b=2*m[y].value;m[y]={id:u++,mergedIds:[m[y].id,m[y+1].id],value:b},m.splice(y+1,1),d+=b,a+=b}for(;m.length<l;)m.push(null);e=[].concat(e,m)}return a>0&&(r.innerHTML=d,c.innerHTML="+"+a,c.classList.add("active"),setTimeout(function(){c.classList.remove("active")},800),d>n&&(localStorage.setItem("bestScore",d),v())),e}function C(t){var e=b(t);return x(e=L(e))}function E(t){var e=x(t);return b(e=L(e))}for(var I=document.querySelectorAll(".js-restart-btn"),M=I.length,T=0;T<M;T++)document.addEventListener?I[T].addEventListener("click",function(){O()}):I[T].attachEvent("onclick",function(){O()});document.addEventListener("keydown",function(n){var r=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey,i=event.which,a=[].concat(e);if(!r){switch(event.preventDefault(),i){case 37:e=L(e);break;case 38:e=C(e);break;case 39:e=k(e);break;case 40:e=E(e)}if(e=e.map(function(e,n){return e?t({},e,{index:n}):null}),_(),f(a,e),p())return void setTimeout(function(){s.classList.add("active")},800)}}),document.addEventListener("touchstart",function(t){B=t.touches[0].clientX,A=t.touches[0].clientY},!1),document.addEventListener("touchmove",function(n){var r=[].concat(e);if(!B||!A)return;var i=n.touches[0].clientX,a=n.touches[0].clientY,o=B-i,c=A-a;e=Math.abs(o)>Math.abs(c)?o>0?L(e):k(e):c>0?C(e):E(e);if(e=e.map(function(e,n){return e?t({},e,{index:n}):null}),_(),f(r,e),p())return void setTimeout(function(){s.classList.add("active")},800);B=null,A=null},!1);var B=null,A=null;function O(){document.getElementById("tile-container").innerHTML="",s.classList.remove("active"),d=0,r.innerHTML=d,e=Array(l*l).fill(null),v(),function(){var t=document.getElementById("tile-container");t.innerHTML="";for(var n=0;n<e.length;n++){e[n];var r=document.createElement("div"),i=n%l,a=Math.floor(n/l);r.style.top=100*a+"px",r.style.left=100*i+"px",r.classList.add("background"),t.appendChild(r)}}();var t=[].concat(e);_(),_(),f(t,e)}O()},s={data:function(){return{}},mounted:function(){this.$nextTick(function(t){c()})}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vchat-h2048"},[n("header",[n("div",{staticClass:"container"},[n("h1",[n("span",[t._v("2")]),n("span",[t._v("0")]),n("span",[t._v("4")]),n("span",[t._v("8")])])])]),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"directions"},[n("p",[n("strong",[t._v("如何玩：")]),t._v(" 使用鼠标方向键键移动数字方块。相邻的两个方块数字相同，它们可合并成一个！")])]),t._v(" "),n("div",{staticClass:"scores"},[n("div",{staticClass:"score-container best-score"},[t._v("\n                最佳:\n                "),n("div",{staticClass:"score"},[n("div",{attrs:{id:"bestScore"}},[t._v("0")])])]),t._v(" "),n("div",{staticClass:"score-container"},[t._v("\n                分数:\n                "),n("div",{staticClass:"score"},[n("div",{attrs:{id:"score"}},[t._v("0")]),t._v(" "),n("div",{staticClass:"add",attrs:{id:"add"}})])])]),t._v(" "),n("div",{staticClass:"game"},[n("div",{staticClass:"tile-container",attrs:{id:"tile-container"}}),t._v(" "),n("div",{staticClass:"end",attrs:{id:"end"}},[t._v("游戏结束"),n("div",{staticClass:"monkey"},[t._v("🙈")]),n("button",{staticClass:"btn not-recommended__item js-restart-btn",attrs:{id:"try-again"}},[t._v("再试一次")])])]),t._v(" "),n("div",{staticClass:"not-recommended"},[n("button",{staticClass:"btn not-recommended__item js-restart-btn",attrs:{id:"restart"}},[t._v("重新启动游戏")]),t._v(" "),n("span",{staticClass:"not-recommended__annotation"})])])])}]};var u=n("VU/8")(s,l,!1,function(t){n("lZBv")},null,null);e.default=u.exports}});