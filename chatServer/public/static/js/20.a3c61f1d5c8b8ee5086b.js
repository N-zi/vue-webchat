webpackJsonp([20],{HGdS:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("mvHQ"),s=e.n(r),o=e("Dd8w"),n=e.n(o),i=e("XOnc"),l=e("gyMJ"),c=e("oAV5"),u=e.n(c),p=e("NYxO"),d={data:function(){return{groupInfo:{},groupUsers:[],IMG_URL:"",showGroupQr:!1,managers:[],groupTag:[],applyFlag:!1,holderId:""}},components:{vApheader:i.default},computed:n()({createDate:function(){return u.a.formatDate(new Date(this.groupInfo.createDate))}},Object(p.c)(["user"])),methods:{getGroupInfo:function(){var t=this,a={groupId:this.$route.params.id};l.a.getGroupInfo(a).then(function(a){0===a.code&&(t.groupInfo=a.data,t.groupUsers=a.users,t.applyFlag=t.groupUsers.filter(function(a){return a.userName===t.user.name}).length,t.managers=t.groupUsers.filter(function(t){return 1===t.holder||1===t.manager}),t.holderId=t.groupUsers.filter(function(t){return 1===t.holder})[0].userId._id)})},apply:function(){localStorage.group=s()({groupName:this.groupInfo.title,groupId:this.$route.params.id,groupPhoto:this.groupInfo.img}),this.$router.push({name:"applyGroup",params:{id:this.holderId}})},quit:function(){}},mounted:function(){this.getGroupInfo()}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"vchat-Detail"},[e("v-apheader",{staticClass:"vchat-Detail-header",attrs:{back:"-1",bgColor:"transparent"}},[e("v-icon",{attrs:{name:"erweima",color:"#f5f5f5",cursor:"pointer"},on:{clickIcon:function(a){t.showGroupQr=!0}}})],1),t._v(" "),e("el-carousel",{attrs:{trigger:"click",height:"200px",arrow:"never","indicator-position":"none"}},[t._l(1,function(a){return e("el-carousel-item",{key:a},[e("a",{staticClass:"DetailImage-a",style:{backgroundImage:"url("+t.IMG_URL+t.groupInfo.img+")"}})])}),t._v(" "),e("div",{staticClass:"DetailImage-bg"},[e("p",{staticClass:"title"},[t._v("\n                "+t._s(t.groupInfo.title)+"\n                ")]),t._v(" "),e("p",[t._v("\n                "+t._s(t.groupInfo.code)+"\n                ")]),t._v(" "),e("p",[t._v("本群创建于"+t._s(t.createDate))]),t._v(" "),e("p",[t._v("\n                "+t._s(t.groupInfo.desc)+"\n                ")])])],2),t._v(" "),e("div",{staticClass:"vchat-Detail-container"},[t.applyFlag?e("div",{staticClass:"group-users"},[e("h3",{staticClass:"group-users-title detail-item"},[e("span",[t._v("群聊成员")]),t._v(" "),e("p",{staticClass:"many"},[e("span",[t._v("共"+t._s(t.groupUsers.length)+"人")]),t._v(" "),e("v-icon",{attrs:{name:"enter",color:"#d5d5d5"}})],1)]),t._v(" "),e("ul",{staticClass:"group-users-liitte-list"},t._l(t.groupUsers,function(a,r){return r<9?e("li",{key:a.code},[e("a",{staticClass:"vchat-photo"},[e("img",{attrs:{src:t.IMG_URL+a.userId.photo,alt:""}})]),t._v(" "),e("span",{staticClass:"vchat-line1"},[t._v(t._s(a.userId.nickname))])]):t._e()}),0)]):t._e(),t._v(" "),t.applyFlag?e("div",{staticClass:"group-card detail-item"},[e("span",[t._v("我的群名片")]),t._v(" "),e("p",{staticClass:"many"},[e("span",[t._v("别跟我比可爱")]),t._v(" "),e("v-icon",{attrs:{name:"enter",color:"#d5d5d5"}})],1)]):t._e(),t._v(" "),t.groupInfo.holderName===t.user.name?e("div",{staticClass:"group-tag detail-item"},[e("span",[t._v("群标签")]),t._v(" "),e("p",[t._l(t.groupTag,function(a,r){return r<3?e("el-tag",{key:r},[t._v(t._s(a))]):t._e()}),t._v(" "),e("v-icon",{attrs:{name:"enter",color:"#d5d5d5"}})],2)]):t._e(),t._v(" "),t.applyFlag?t._e():e("div",{staticClass:"group-managers detail-item"},[e("div",[e("span",[t._v("管理员")]),t._v(" "),t._l(t.managers,function(a,r){return r<3?e("a",{key:a._id,staticClass:"vchat-photo"},[e("img",{attrs:{src:t.IMG_URL+a.userId.photo,alt:""}})]):t._e()})],2),t._v(" "),e("p",{staticClass:"many"},[e("span",[t._v("共"+t._s(t.managers.length)+"人")]),t._v(" "),e("v-icon",{attrs:{name:"enter",color:"#d5d5d5"}})],1)]),t._v(" "),e("div",{staticClass:"detail-button"},[t.applyFlag?e("button",{staticClass:"vchat-full-button error",on:{click:t.quit}},[t._v("退出群聊")]):e("button",{staticClass:"vchat-full-button minor",on:{click:t.apply}},[t._v("申请加群")])])]),t._v(" "),e("div",{staticClass:"Qr-dialog",class:{active:t.showGroupQr}},[e("v-icon",{staticClass:"el-icon-circle-close-outline QrClose",attrs:{color:"#f5f5f5",size:28,cursor:"pointer"},on:{clickIcon:function(a){t.showGroupQr=!1}}})],1)],1)},staticRenderFns:[]};var g=e("VU/8")(d,v,!1,function(t){e("m/kh")},"data-v-8013950a",null);a.default=g.exports},"m/kh":function(t,a){}});